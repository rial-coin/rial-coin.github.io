import{j as d}from"./jsx-runtime.7faW4zRM.js";import{r as n}from"./index.DhYZZe0J.js";import{M as k,u as j,P as I,a as $,L as B}from"./proxy.BG7iUghw.js";class S extends n.Component{getSnapshotBeforeUpdate(c){const t=this.props.childRef.current;if(t&&c.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T({children:r,isPresent:c}){const t=n.useId(),s=n.useRef(null),h=n.useRef({width:0,height:0,top:0,left:0}),{nonce:C}=n.useContext(k);return n.useInsertionEffect(()=>{const{width:p,height:e,top:f,left:a}=h.current;if(c||!s.current||!p||!e)return;s.current.dataset.motionPopId=t;const l=document.createElement("style");return C&&(l.nonce=C),document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${e}px !important;
            top: ${f}px !important;
            left: ${a}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[c]),d.jsx(S,{isPresent:c,childRef:s,sizeRef:h,children:n.cloneElement(r,{ref:s})})}const b=({children:r,initial:c,isPresent:t,onExitComplete:s,custom:h,presenceAffectsLayout:C,mode:p})=>{const e=j(A),f=n.useId(),a=n.useCallback(i=>{e.set(i,!0);for(const g of e.values())if(!g)return;s&&s()},[e,s]),l=n.useMemo(()=>({id:f,initial:c,isPresent:t,custom:h,onExitComplete:a,register:i=>(e.set(i,!1),()=>e.delete(i))}),C?[Math.random(),a]:[t,a]);return n.useMemo(()=>{e.forEach((i,g)=>e.set(g,!1))},[t]),n.useEffect(()=>{!t&&!e.size&&s&&s()},[t]),p==="popLayout"&&(r=d.jsx(T,{isPresent:t,children:r})),d.jsx(I.Provider,{value:l,children:r})};function A(){return new Map}const L=r=>r.key||"";function M(r){const c=[];return n.Children.forEach(r,t=>{n.isValidElement(t)&&c.push(t)}),c}const Z=({children:r,exitBeforeEnter:c,custom:t,initial:s=!0,onExitComplete:h,presenceAffectsLayout:C=!0,mode:p="sync"})=>{const e=n.useMemo(()=>M(r),[r]),f=e.map(L),a=n.useRef(!0),l=n.useRef(e),i=j(()=>new Map),[g,P]=n.useState(e),[m,v]=n.useState(e);$(()=>{a.current=!1,l.current=e;for(let u=0;u<m.length;u++){const o=L(m[u]);f.includes(o)?i.delete(o):i.get(o)!==!0&&i.set(o,!1)}},[m,f.length,f.join("-")]);const y=[];if(e!==g){let u=[...e];for(let o=0;o<m.length;o++){const x=m[o],E=L(x);f.includes(E)||(u.splice(o,0,x),y.push(x))}p==="wait"&&y.length&&(u=y),v(M(u)),P(e);return}const{forceRender:w}=n.useContext(B);return d.jsx(d.Fragment,{children:m.map(u=>{const o=L(u),x=e===m||f.includes(o),E=()=>{if(i.has(o))i.set(o,!0);else return;let R=!0;i.forEach(z=>{z||(R=!1)}),R&&(w?.(),v(l.current),h&&h())};return d.jsx(b,{isPresent:x,initial:!a.current||s?void 0:!1,custom:x?void 0:t,presenceAffectsLayout:C,mode:p,onExitComplete:x?void 0:E,children:u},o)})})},F=()=>d.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"fill-primaryColor",children:[d.jsx("path",{d:"M11.3709 9.59273L8.77816 7L1 14.7782L3.59272 17.3709L11.3709 9.59273Z"}),d.jsx("path",{d:"M15.2218 7L23 14.7782L20.424 17.3542L15.2218 12.152L10.0197 17.3542L7.44367 14.7782L15.2218 7Z"})]});export{Z as A,F as T};

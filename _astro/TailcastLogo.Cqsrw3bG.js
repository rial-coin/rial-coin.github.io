import{j as d}from"./jsx-runtime.7faW4zRM.js";import{r as n}from"./index.DhYZZe0J.js";import{M as I,u as M,P as $,a as k,L as B}from"./motion.DJx1r9KO.js";class S extends n.Component{getSnapshotBeforeUpdate(c){const e=this.props.childRef.current;if(e&&c.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=e.offsetHeight||0,s.width=e.offsetWidth||0,s.top=e.offsetTop,s.left=e.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T({children:i,isPresent:c}){const e=n.useId(),s=n.useRef(null),a=n.useRef({width:0,height:0,top:0,left:0}),{nonce:x}=n.useContext(I);return n.useInsertionEffect(()=>{const{width:h,height:t,top:f,left:C}=a.current;if(c||!s.current||!h||!t)return;s.current.dataset.motionPopId=e;const o=document.createElement("style");return x&&(o.nonce=x),document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${e}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${t}px !important;
            top: ${f}px !important;
            left: ${C}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[c]),d.jsx(S,{isPresent:c,childRef:s,sizeRef:a,children:n.cloneElement(i,{ref:s})})}const A=({children:i,initial:c,isPresent:e,onExitComplete:s,custom:a,presenceAffectsLayout:x,mode:h})=>{const t=M(D),f=n.useId(),C=n.useMemo(()=>({id:f,initial:c,isPresent:e,custom:a,onExitComplete:o=>{t.set(o,!0);for(const l of t.values())if(!l)return;s&&s()},register:o=>(t.set(o,!1),()=>t.delete(o))}),x?[Math.random()]:[e]);return n.useMemo(()=>{t.forEach((o,l)=>t.set(l,!1))},[e]),n.useEffect(()=>{!e&&!t.size&&s&&s()},[e]),h==="popLayout"&&(i=d.jsx(T,{isPresent:e,children:i})),d.jsx($.Provider,{value:C,children:i})};function D(){return new Map}const g=i=>i.key||"";function R(i){const c=[];return n.Children.forEach(i,e=>{n.isValidElement(e)&&c.push(e)}),c}const b=({children:i,exitBeforeEnter:c,custom:e,initial:s=!0,onExitComplete:a,presenceAffectsLayout:x=!0,mode:h="sync"})=>{const t=n.useMemo(()=>R(i),[i]),f=t.map(g),C=n.useRef(!0),o=n.useRef(t),l=M(()=>new Map),[j,P]=n.useState(t),[p,E]=n.useState(t);k(()=>{C.current=!1,o.current=t;for(let u=0;u<p.length;u++){const r=g(p[u]);f.includes(r)?l.delete(r):l.get(r)!==!0&&l.set(r,!1)}},[p,f.length,f.join("-")]);const L=[];if(t!==j){let u=[...t];for(let r=0;r<p.length;r++){const m=p[r],w=g(m);f.includes(w)||(u.splice(r,0,m),L.push(m))}h==="wait"&&L.length&&(u=L),E(R(u)),P(t);return}const{forceRender:y}=n.useContext(B);return d.jsx(d.Fragment,{children:p.map(u=>{const r=g(u),m=t===p||f.includes(r),w=()=>{if(l.has(r))l.set(r,!0);else return;let v=!0;l.forEach(z=>{z||(v=!1)}),v&&(y?.(),E(o.current),a&&a())};return d.jsx(A,{isPresent:m,initial:!C.current||s?void 0:!1,custom:m?void 0:e,presenceAffectsLayout:x,mode:h,onExitComplete:m?void 0:w,children:u},r)})})},F=()=>d.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"fill-primaryColor",children:[d.jsx("path",{d:"M11.3709 9.59273L8.77816 7L1 14.7782L3.59272 17.3709L11.3709 9.59273Z"}),d.jsx("path",{d:"M15.2218 7L23 14.7782L20.424 17.3542L15.2218 12.152L10.0197 17.3542L7.44367 14.7782L15.2218 7Z"})]});export{b as A,F as T};

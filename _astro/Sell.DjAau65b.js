import{j as t}from"./jsx-runtime.TgE5XOvc.js";import{r as g}from"./index.-VfdvS1U.js";import{d as l,R as u,g as b,a as p,T as y,e as h,u as w,b as f,C as j,c as C}from"./CustomConnectButton.CnwfV2yS.js";const a=(o,s)=>{let e=document.getElementById("message-box");e||(e=document.createElement("div"),e.id="message-box",e.style.position="fixed",e.style.bottom="20px",e.style.left="50%",e.style.transform="translateX(-50%)",e.style.padding="15px 20px",e.style.borderRadius="8px",e.style.fontFamily="Arial, sans-serif",e.style.fontSize="16px",e.style.zIndex="1000",e.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)",document.body.appendChild(e)),e.textContent=o,s==="success"?(e.style.backgroundColor="#4caf50",e.style.color="#ffffff"):s==="error"&&(e.style.backgroundColor="#f44336",e.style.color="#ffffff"),setTimeout(()=>{e&&e.remove()},3e3)},A=async(o,s,e)=>{if(!s){console.error("User address is not available"),a("User address is not available","error");return}const r=e*1e8,i=l.beginCell().storeUint(0,32).storeStringTail("RIAL Pass payment!").endCell(),c=l.beginCell().storeUint(260734629,32).storeUint(0,64).storeCoins(r).storeAddress(u).storeAddress(l.Address.parse(s)).storeBit(0).storeCoins(l.toNano("0.01")).storeBit(1).storeRef(i).endCell();let d,m;if(s){const n=await b(s,h);d=n.walletAddress,m=n.balance}if(!m||m<r){a("Insufficient funds","error");return}if(!d){a("Jetton Wallet Address is not available","error");return}const x={validUntil:p(),messages:[{address:d.toString(),amount:y.toString(),payload:c.toBoc().toString("base64")}]};try{await o.sendTransaction(x),a("RIAL payment sent successfully","success"),console.log("RIAL payment sent successfully")}catch(n){console.error("Error sending RIAL transaction:",n),a("Error sending RIAL transaction","error")}},v=()=>{const[o]=w(),s=f(),e=f(!1),[r,i]=g.useState(0);return t.jsxs("div",{className:"flex flex-col items-center justify-center text-primaryText font-Inter p-8 min-h-screen bg-gradient-to-br from-bgDark1 to-bgDark2",children:[t.jsx(j,{}),s&&e?t.jsx("section",{className:"bg-gradient-to-r from-bgDark2 to-bgDark3 shadow-lg rounded-lg p-6 w-full max-w-lg transform transition hover:scale-105",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"bg-primaryColor text-primaryText rounded-full p-3",children:t.jsx("i",{className:"fas fa-wallet text-xl"})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-primaryColor",children:"Wallet Connected"}),t.jsx("p",{className:"text-secondaryText text-sm",children:"Your wallet is successfully connected. Start your transactions now."})]})]})}):t.jsx("div",{className:"bg-gradient-to-r from-bgDark3 to-bgDark2 text-secondaryText shadow-lg rounded-lg p-6 w-full max-w-lg text-center transform transition hover:scale-105",children:t.jsx("p",{className:"text-lg",children:"Please connect your wallet to proceed."})}),t.jsxs("section",{className:"bg-gradient-to-r from-bgDark2 to-bgDark3 shadow-lg rounded-lg p-8 w-full max-w-lg mt-8",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"rialAmount",className:"block text-lg font-semibold mb-3 text-primaryText",children:"Enter RIAL Amount"}),t.jsx("input",{type:"number",id:"rialAmount",value:r,onChange:c=>i(parseFloat(c.target.value)),placeholder:"Amount in RIAL",min:"0",className:"w-full px-4 py-2 border border-mainBorder bg-bgDark3 text-primaryText rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primaryColor focus:border-primaryColor"}),t.jsxs("p",{className:"text-sm text-secondaryText mt-2",children:["By sending this amount, you will receive ",t.jsx("span",{className:"font-bold text-primaryColor",children:r||0})," USDT."]})]}),t.jsxs("button",{onClick:()=>A(o,s,r),disabled:!s||r<=0,className:`w-full px-6 py-3 rounded-md text-lg font-semibold transition-transform transform ${s&&r>0?"bg-primaryColor text-white hover:bg-secondaryColor hover:scale-105 focus:ring-4 focus:ring-primaryColor":"bg-bgDark4 text-secondaryText cursor-not-allowed"}`,children:[t.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Sell RIAL"]})]}),t.jsx("section",{className:"bg-gradient-to-r from-bgDark2 to-bgDark3 shadow-lg rounded-lg p-8 w-full max-w-lg mt-8",children:t.jsx("a",{href:"/buy",className:"block w-full px-6 py-3 rounded-md text-lg font-semibold text-center bg-green-600 text-white hover:bg-green-700 transition-transform transform hover:scale-105 focus:ring-4 focus:ring-green-400",children:"Go to Buy Page"})})]})},D=()=>t.jsx(C,{manifestUrl:"https://rialcoin.io/tonconnect-manifest.json",children:t.jsx(v,{"client:only":"react"})});export{D as Sell};

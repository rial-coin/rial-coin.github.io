import{j as e}from"./jsx-runtime.TgE5XOvc.js";import{r as g}from"./index.-VfdvS1U.js";import{d as s,R as u,g as f,a as b,T as p,b as h,u as y,c as m,e as j,f as w}from"./getJettonWalletAddress.DF1dWCBl.js";const N=async(o,t,n)=>{if(!t){console.error("User address is not available");return}const r=n*1e8;s.toNano("1");const l=s.beginCell().storeUint(0,32).storeStringTail("RIAL Pass payment!").endCell(),i=s.beginCell().storeUint(260734629,32).storeUint(0,64).storeCoins(r).storeAddress(u).storeAddress(s.Address.parse(t)).storeBit(0).storeCoins(s.toNano("0.01")).storeBit(1).storeRef(l).endCell();let c,d;if(t){const a=await f(t,h);c=a.walletAddress,d=a.balance}if(!d||d<r){alert("Insufficient funds");return}if(!c){alert("Jetton Wallet Address is not available");return}const x={validUntil:b(),messages:[{address:c.toString(),amount:p.toString(),payload:i.toBoc().toString("base64")}]};try{await o.sendTransaction(x),console.log("NOT payment sent successfully")}catch(a){console.error("Error sending NOT transaction:",a)}},C=()=>{const[o]=y(),t=m(),n=m(!1),[r,l]=g.useState(0);return e.jsxs("div",{className:"flex flex-col items-center justify-center text-primaryText font-Inter p-8 min-h-screen bg-gradient-to-br from-bgDark1 to-bgDark2",children:[e.jsxs("header",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-extrabold text-primaryColor",children:"Rial Coin Exchange"}),e.jsx("p",{className:"text-secondaryText text-lg mt-2",children:"Securely connect your wallet and send RIAL effortlessly."})]}),e.jsx("div",{className:"mb-8",children:e.jsx(j,{})}),t&&n?e.jsx("section",{className:"bg-gradient-to-r from-bgDark2 to-bgDark3 shadow-lg rounded-lg p-6 w-full max-w-lg transform transition hover:scale-105",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"bg-primaryColor text-primaryText rounded-full p-3",children:e.jsx("i",{className:"fas fa-wallet text-xl"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-primaryColor",children:"Wallet Connected"}),e.jsx("p",{className:"text-secondaryText text-sm",children:"Your wallet is successfully connected. Start your transactions now."})]})]})}):e.jsx("div",{className:"bg-gradient-to-r from-bgDark3 to-bgDark2 text-secondaryText shadow-lg rounded-lg p-6 w-full max-w-lg text-center transform transition hover:scale-105",children:e.jsx("p",{className:"text-lg",children:"Please connect your wallet to proceed."})}),e.jsxs("section",{className:"bg-gradient-to-r from-bgDark2 to-bgDark3 shadow-lg rounded-lg p-8 w-full max-w-lg mt-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"rialAmount",className:"block text-lg font-semibold mb-3 text-primaryText",children:"Enter RIAL Amount"}),e.jsx("input",{type:"number",id:"rialAmount",value:r,onChange:i=>l(parseFloat(i.target.value)),placeholder:"Amount in RIAL",min:"0",className:"w-full px-4 py-2 border border-mainBorder bg-bgDark3 text-primaryText rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-primaryColor focus:border-primaryColor"}),e.jsxs("p",{className:"text-sm text-secondaryText mt-2",children:["By sending this amount, you will receive ",e.jsx("span",{className:"font-bold text-primaryColor",children:r||0})," USDT."]})]}),e.jsxs("button",{onClick:()=>N(o,t,r),disabled:!t||r<=0,className:`w-full px-6 py-3 rounded-md text-lg font-semibold transition-transform transform ${t&&r>0?"bg-primaryColor text-white hover:bg-secondaryColor hover:scale-105 focus:ring-4 focus:ring-primaryColor":"bg-bgDark4 text-secondaryText cursor-not-allowed"}`,children:[e.jsx("i",{className:"fas fa-paper-plane mr-2"}),"Sell RIAL"]})]}),e.jsx("section",{className:"bg-gradient-to-r from-bgDark2 to-bgDark3 shadow-lg rounded-lg p-8 w-full max-w-lg mt-8",children:e.jsx("a",{href:"/buy",className:"block w-full px-6 py-3 mt-6 rounded-md text-lg font-semibold text-center bg-green-600 text-white hover:bg-green-700 transition-transform transform hover:scale-105 focus:ring-4 focus:ring-green-400",children:"Go to Buy Page"})})]})},R=()=>e.jsx(w,{manifestUrl:"https://rialcoin.io/tonconnect-manifest.json",children:e.jsx(C,{"client:only":"react"})});export{R as Sell};
